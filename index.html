<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Help Center - AI Assistant</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        #app {
            width: 100%;
            max-width: 800px;
            height: 90vh;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 24px;
            text-align: center;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
            background: #f8f9fa;
        }

        .message {
            margin-bottom: 16px;
            display: flex;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            line-height: 1.5;
            font-size: 15px;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .message.bot .message-content {
            background: white;
            color: #333;
            border-bottom-left-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 12px 16px;
        }

        .typing-indicator span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #999;
            animation: typing 1.4s infinite;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        .input-container {
            padding: 20px 24px;
            background: white;
            border-top: 1px solid #e9ecef;
        }

        .input-wrapper {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        input {
            flex: 1;
            padding: 14px 18px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 15px;
            outline: none;
            transition: all 0.3s ease;
        }

        input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        button {
            padding: 14px 28px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
        }

        button:active:not(:disabled) {
            transform: translateY(0);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .welcome-message {
            text-align: center;
            color: #6c757d;
            margin-top: 40px;
        }

        .welcome-message h2 {
            font-size: 20px;
            margin-bottom: 12px;
            color: #495057;
        }

        .suggested-questions {
            margin-top: 24px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .suggestion {
            padding: 12px 16px;
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 14px;
            color: #495057;
        }

        .suggestion:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .chat-container::-webkit-scrollbar {
            width: 8px;
        }

        .chat-container::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .chat-container::-webkit-scrollbar-thumb {
            background: #cbd5e0;
            border-radius: 4px;
        }

        .chat-container::-webkit-scrollbar-thumb:hover {
            background: #a0aec0;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="header">
            <h1>üéì School Help Center</h1>
            <p>AI Assistant - Ask me anything!</p>
        </div>

        <div class="chat-container" ref="chatContainer">
            <div v-if="messages.length === 0" class="welcome-message">
                <h2>Welcome! How can I help you today?</h2>
                <p>Ask me about courses, schedules, campus resources, and more.</p>
                
                <div class="suggested-questions">
                    <div class="suggestion" @click="sendSuggestion('What are the library opening hours?')">
                        üìö What are the library opening hours?
                    </div>
                    <div class="suggestion" @click="sendSuggestion('How do I register for courses?')">
                        üìù How do I register for courses?
                    </div>
                    <div class="suggestion" @click="sendSuggestion('Where is the student services office?')">
                        üè´ Where is the student services office?
                    </div>
                </div>
            </div>

            <div v-for="(message, index) in messages" :key="index" :class="['message', message.role]">
                <div class="message-content">
                    {{ message.content }}
                </div>
            </div>

            <div v-if="isTyping" class="message bot">
                <div class="message-content">
                    <div class="typing-indicator">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="input-container">
            <div class="input-wrapper">
                <input 
                    v-model="userInput" 
                    @keyup.enter="sendMessage"
                    placeholder="Type your question here..."
                    :disabled="isTyping"
                />
                <button @click="sendMessage" :disabled="!userInput.trim() || isTyping">
                    Send
                </button>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    messages: [],
                    userInput: '',
                    isTyping: false
                };
            },
            methods: {
                async sendMessage() {
                    if (!this.userInput.trim()) return;

                    // Add user message
                    this.messages.push({
                        role: 'user',
                        content: this.userInput
                    });

                    const userQuestion = this.userInput;
                    this.userInput = '';
                    this.isTyping = true;

                    // Scroll to bottom
                    this.$nextTick(() => {
                        this.scrollToBottom();
                    });

                    // Simulate API call to Watsonx or your RAG backend
                    // Replace this with actual API call
                    try {
                        const response = await this.callRAGAPI(userQuestion);
                        
                        setTimeout(() => {
                            this.messages.push({
                                role: 'bot',
                                content: response
                            });
                            this.isTyping = false;
                            this.$nextTick(() => {
                                this.scrollToBottom();
                            });
                        }, 1000);
                    } catch (error) {
                        console.error('Error calling API:', error);
                        this.messages.push({
                            role: 'bot',
                            content: 'Sorry, I encountered an error. Please try again.'
                        });
                        this.isTyping = false;
                    }
                },
                async callRAGAPI(question) {
                    // TODO: Replace with actual Watsonx API endpoint
                    // Example API call:
                    /*
                    const response = await fetch('YOUR_WATSONX_ENDPOINT', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': 'Bearer YOUR_API_KEY'
                        },
                        body: JSON.stringify({
                            question: question
                        })
                    });
                    const data = await response.json();
                    return data.answer;
                    */

                    // Mock response for now
                    return this.getMockResponse(question);
                },
                getMockResponse(question) {
                    // Mock responses for demonstration
                    const responses = [
                        "I'd be happy to help you with that! Based on our school's resources, here's what I found...",
                        "That's a great question! Let me provide you with the information you need.",
                        "I can help you with that. Here's what you should know...",
                        "Thank you for your question. According to our school's documentation..."
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                },
                sendSuggestion(suggestion) {
                    this.userInput = suggestion;
                    this.sendMessage();
                },
                scrollToBottom() {
                    const container = this.$refs.chatContainer;
                    container.scrollTop = container.scrollHeight;
                }
            }
        }).mount('#app');
    </script>
</body>
</html>
